import{a2 as N,a3 as U,a4 as R}from"./_plugin-vue_export-helper.CaSDQa69.js";let a=[],f=0;const g=4;let h=0,E=e=>{let n=[],t={get(){return t.lc||t.listen(()=>{})(),t.value},lc:0,listen(s){return t.lc=n.push(s),()=>{for(let i=f+g;i<a.length;)a[i]===s?a.splice(i,g):i+=g;let l=n.indexOf(s);~l&&(n.splice(l,1),--t.lc||t.off())}},notify(s,l){h++;let i=!a.length;for(let u of n)a.push(u,t.value,s,l);if(i){for(f=0;f<a.length;f+=g)a[f](a[f+1],a[f+2],a[f+3]);a.length=0}},off(){},set(s){let l=t.value;l!==s&&(t.value=s,t.notify(l))},subscribe(s){let l=t.listen(s);return s(t.value),l},value:e};return t};const S=5,p=6,v=10;let x=(e,n,t,s)=>(e.events=e.events||{},e.events[t+v]||(e.events[t+v]=s(l=>{e.events[t].reduceRight((i,u)=>(u(i),i),{shared:{},...l})})),e.events[t]=e.events[t]||[],e.events[t].push(n),()=>{let l=e.events[t],i=l.indexOf(n);l.splice(i,1),l.length||(delete e.events[t],e.events[t+v](),delete e.events[t+v])}),_=1e3,A=(e,n)=>x(e,s=>{let l=n(s);l&&e.events[p].push(l)},S,s=>{let l=e.listen;e.listen=(...u)=>(!e.lc&&!e.active&&(e.active=!0,s()),l(...u));let i=e.off;return e.events[p]=[],e.off=()=>{i(),setTimeout(()=>{if(e.active&&!e.lc){e.active=!1;for(let u of e.events[p])u();e.events[p]=[]}},_)},()=>{e.listen=l,e.off=i}}),L=(e,n,t)=>{Array.isArray(e)||(e=[e]);let s,l,i=()=>{if(l===h)return;l=h;let c=e.map(r=>r.get());if(!s||c.some((r,O)=>r!==s[O])){s=c;let r=n(...c);r&&r.then&&r.t?r.then(O=>{s===c&&u.set(O)}):(u.set(r),l=h)}},u=E(void 0),M=u.get;u.get=()=>(i(),M());let m=i;return A(u,()=>{let c=e.map(r=>r.listen(m));return i(),()=>{for(let r of c)r()}}),u},I=(e,n)=>L(e,n);const o=E(!1),T=E(!1),d=E([]),D=()=>(o.set(!1),o.get()),F=()=>(o.set(!o.get()),o.get()),q=()=>(T.set(!1),T.get()),C=e=>{const n=d.get().slice();n.includes(e)||(n.push(e),d.set(n))},P=e=>{const n=d.get().slice();n.includes(e)&&d.set(n.filter(t=>t!==e))},V=I(d,e=>n=>e.includes(n));function Y(e){let n=N(),t=e.subscribe(s=>{n.value=s});return U()&&R(t),n}export{o as a,V as b,P as c,D as d,q as e,T as i,C as o,F as t,Y as u};
